# virus_hosts

[See this blog post](https://nsaunders.wordpress.com/2015/06/02/virus-hosts-from-ncbi-taxonomy-web-pages/).

The code in code/ruby/virus2host.rb takes a taxonomy UID as input and returns the UID, rank, name and host (where present) for the virus.

The file in data/virus_host.tsv was generated by downloading all virus UIDs from the taxonomy database to a file, then submitting each line to the Ruby script.

    # all virus UIDs at http://www.ncbi.nlm.nih.gov/taxonomy/?term=txid10239[Subtree] > uids.txt

    for line in $(cat uids.txt)
      do ruby virus2host.rb $line >> virus_host.tsv
      sleep 1
    done

NOTE: the code scrapes HTML and will break if NCBI change the HTML in the future.
